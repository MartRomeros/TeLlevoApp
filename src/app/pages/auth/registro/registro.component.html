<app-header-principal></app-header-principal>
@if (cargando) {
<ion-progress-bar type="indeterminate"></ion-progress-bar>
}

<ion-content>
  <form [formGroup]="formularioRegistro" (ngSubmit)="registrar()">
    <ion-grid>
      <ion-row class="ion-align-items-center">
        <ion-col size="12">
          <ion-title>Registro de usuario</ion-title>
          <h5>Completa todos los campos para crear una cuenta</h5>
        </ion-col>
        <ion-col size="6">
          <ion-input label="Nombre" labelPlacement="floating" placeholder="Ingresa tu nombre" fill="outline"
            formControlName="nombre"></ion-input>
        </ion-col>
        <ion-col size="6">
          <ion-input label="Apellido" labelPlacement="floating" placeholder="Ingresa tu apellido" fill="outline"
            formControlName="apellido"></ion-input>
        </ion-col>
        <ion-col size="12">
          <ion-input label="Correo electronico" labelPlacement="floating" placeholder="Ingresa tu correo electronico"
            fill="outline" formControlName="correo"></ion-input>
        </ion-col>
        <ion-col size="12">
          <ion-input label="contraseña" labelPlacement="floating" placeholder="Ingresa tu contraseña" fill="outline"
            type="password" formControlName="password">
            <ion-input-password-toggle slot="end"></ion-input-password-toggle>
          </ion-input>
        </ion-col>
        <ion-col size="12">
          <ion-radio-group value="pasajero" (ionChange)="esDriver()" formControlName="tipoUsuario">
            <ion-radio value="pasajero">Pasajero</ion-radio><br />
            <ion-radio value="chofer">Chofer</ion-radio><br />
          </ion-radio-group>
        </ion-col>
        @if (isDriver) {
        <ion-col size="12">
          <ion-title>Registro de vehiculo</ion-title>
          <h5>Ingresa los siguientes datos sobre tu vehiculo</h5>
        </ion-col>
        <ion-col size="6">
          <ion-input label="Marca" labelPlacement="floating" placeholder="Ingresa la marca de tu auto" fill="outline"
            formControlName="marca"></ion-input>
        </ion-col>
        <ion-col size="6">
          <ion-input label="Patente" labelPlacement="floating" placeholder="Ingresa la patente de tu auto"
            fill="outline" formControlName="patente"></ion-input>
        </ion-col>
        }
        <ion-col size="12">
          <ion-buttons>
            <ion-button>Olvidaste tu contraseña?</ion-button>
            <ion-button (click)="goToLogin()">Ya tengo una cuenta</ion-button>
          </ion-buttons>
        </ion-col>
        <ion-col size="12" class="col-btn">
          <ion-button expand="block" color="danger" type="submit">Registrarme</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>
</ion-content>